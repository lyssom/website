{"version":3,"sources":["index.js"],"names":["requestAnimationFrame","scrollAnimation","skill","document","getElementById","skills","characters","gear","style","window","scrollY","targetText","currentText","NEW_CHARACTER_RATE","CHARACTER_CYCLE_RATE","TIME_BETWEEN_TEXT_CHANGES","timeSinceLastNewCharacter","timeSinceLastCycle","skillIndex","textAnimation","time","lastFrameTime","letters","dt","timeSinceLastNewText","length","Math","floor","random","split","forEach","letter","index","nextIndex","indexOf","join","innerHTML"],"mappings":"AAAAA,sBAAsBC,CAAtB,EAAAD,IAAAA,EAAAA,SAAsBC,eAAtB,MAAAD,EAGME,EAAQC,SAASC,eAAe,cAAxB,EAARF,EAAQC,CAAAA,MAASC,MAAAA,OAAe,aAAtC,kBAAA,WAAA,YAAA,WAAA,eAEMC,EAAS,6BAEf,SAAMC,IAGJN,sBAAsBC,CAAtB,EADFM,EAAAC,MAASP,UAAT,UAA2BQ,OAAAC,QAAA,IAAA,IAA3B,MACEV,CAED,IAAAW,EAAA,MAGGC,EAAc,MADdD,EAAJ,IACIC,EAAJ,GACMC,EAA0B,IAC1BC,EAAN,EACMC,EAAAA,EACFC,EAAAA,IACAC,EAAAA,EAEAC,EAAAA,KAAAA,EAGJ,SAASC,EAAcC,GADvBpB,sBAAIqB,CAAJ,EAKG,IA4BKC,EA5BLC,EAAAH,GAJHC,EAAAA,GACErB,GAKAY,IAAgBS,GAEGV,GACjBa,GAAwBD,KAAxBC,EAAAA,EAAAA,CAAAA,GAAAnB,EAAAoB,QACAD,EAAGA,GAOFZ,EAAYa,SAAWd,EAAWc,QACnCZ,GADFG,GAA0BL,KAExBK,EAAGA,EACDA,EAAAA,OAAAA,EAAAS,OACAb,EAAea,EAASd,MAAAA,EAAWc,CAAAA,CAApBA,EAIbb,GAAeN,EAAWoB,KAAKC,MAAMD,KAAKE,OAALF,EAAgBpB,EAAWmB,MAAtCC,IAK7BT,EAAHA,IACEA,EAAqB,GACjBK,EAAUV,EAAYiB,MAAM,EAAlBjB,GACNkB,QAAQ,SAAAC,EAAAC,GACdD,IAAGA,EAAWpB,KAERsB,GADgB3B,EAAW4B,QAAQH,CAAnBzB,EACa,GAAKA,EAAWmB,OACjDH,EAAQU,GAAS1B,EAAW2B,GAJhC,CAAAX,EAOAV,EAAcU,EAAQa,KAAK,EAAbb,GAEhBL,GAAsBM,EAEtBF,EAAgBD,EAEhBlB,EAAMkC,UAAYxB,CACnB,CAEDZ,sBAAsBmB,CAAtBnB","file":"index.js","sourcesContent":["requestAnimationFrame(scrollAnimation);\r\n\r\nconst gear = document.getElementById(\"gear\");\r\nconst skill = document.getElementById(\"skill-slider\");\r\n\r\nconst skills = [\"web\", \"css\", \"html\", \"javascript\", \"troubleshooting\", \"creative\", \"debugging\", \"training\", \"advertising\"];\r\n\r\nconst characters = \"abcdefghijklmnopqrstuvwxyz\";\r\n\r\nfunction scrollAnimation() {\r\n  requestAnimationFrame(scrollAnimation);\r\n  gear.style.transform = `rotate(${window.scrollY / 1000 * 360}deg)`;\r\n}\r\n\r\nlet targetText = \"web\";\r\nlet currentText = \"web\";\r\nconst NEW_CHARACTER_RATE = 100; // milliseconds per character\r\nconst CHARACTER_CYCLE_RATE = 50;\r\nconst TIME_BETWEEN_TEXT_CHANGES = 2000;\r\nlet timeSinceLastNewCharacter = 0;\r\nlet timeSinceLastCycle = 0;\r\nlet timeSinceLastNewText = 1000;\r\nlet skillIndex = 0;\r\n\r\nlet lastFrameTime;\r\nfunction textAnimation(time) {\r\n  requestAnimationFrame(textAnimation);\r\n  if(!lastFrameTime) {\r\n    lastFrameTime = time;\r\n  }\r\n  \r\n  let dt = time - lastFrameTime;\r\n  \r\n  if(currentText === targetText) {\r\n    timeSinceLastNewText += dt;\r\n    if(timeSinceLastNewText > TIME_BETWEEN_TEXT_CHANGES) {\r\n      targetText = skills[(skillIndex++) % skills.length];\r\n      timeSinceLastNewText = 0;\r\n    }\r\n  }\r\n  \r\n  \r\n  if(currentText.length !== targetText.length) {\r\n    timeSinceLastNewCharacter += dt;\r\n    if(timeSinceLastNewCharacter > NEW_CHARACTER_RATE) {\r\n      timeSinceLastNewCharacter = 0;\r\n      if(currentText.length > targetText.length) {\r\n        currentText = currentText.slice(0, -1);\r\n      }\r\n      else {\r\n        currentText += characters[Math.floor(Math.random() * characters.length)];\r\n      }\r\n    }\r\n  }\r\n  \r\n  if(timeSinceLastCycle > CHARACTER_CYCLE_RATE) {\r\n    timeSinceLastCycle = 0;\r\n    let letters = currentText.split(\"\");\r\n    letters.forEach((letter, index) => {\r\n      if(letter !== targetText[index]) {\r\n        let alphabetIndex = characters.indexOf(letter);\r\n        let nextIndex = (alphabetIndex + 1) % characters.length;\r\n        letters[index] = characters[nextIndex];\r\n      }\r\n    });\r\n    currentText = letters.join(\"\");\r\n  }\r\n  timeSinceLastCycle += dt;\r\n  \r\n  lastFrameTime = time;\r\n  \r\n  skill.innerHTML = currentText;\r\n}\r\n\r\nrequestAnimationFrame(textAnimation);"]}